(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(70)},40:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),c=a.n(l),o=(a(40),a(41),a(42),a(73)),s=a(75),i=a(74),u=a(72),m=a(5),d=(a(43),a(71)),E=a(7),f=a(10),h=a.n(f),p=function(){return function(e){h.a.get("api/profile").then(function(t){return e({type:"CHECK_AUTH",payload:{username:t.data,isAuth:!0}})}).catch(function(t){return e({type:"CHECK_AUTH",payload:{username:null,isAuth:!1}})})}},b={logout:function(){return function(e){h.a.get("api/profile/logout").then(function(t){return e({type:"LOG_OUT",payload:!1})}).catch(function(e){})}}},g=Object(E.b)(null,b)(function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),l=a[0],c=a[1];return r.a.createElement("div",{onMouseOver:function(){c(!0)},onMouseLeave:function(){c(!1)}},r.a.createElement(d.a,{to:"/profile"},"Profile"),l?r.a.createElement("div",{id:"acc-menu"},r.a.createElement("a",{href:"/profile",className:"menuRow"},"My Account"),r.a.createElement("a",{className:"logout",onClick:function(){e.logout(),window.location.href="/login"}},"Log out")):null)}),v=(a(67),{checkAuth:function(){return p()}}),N=Object(E.b)(function(e){return{isAuth:e.auth.isAuth}},v)(function(e){return Object(n.useEffect)(function(){e.checkAuth()},[e.isAuth]),r.a.createElement("div",{className:"NavBar"},r.a.createElement("div",{className:"LeftNav"},r.a.createElement(d.a,{to:"/home"},"Home")),r.a.createElement("div",{className:"RightNav"},e.isAuth?r.a.createElement(g,null):r.a.createElement(d.a,{to:"/login"},"Login")))}),w=a(29),O=a(30),y=a(34),j=a(31),A=a(33),L=function(e){function t(){return Object(w.a)(this,t),Object(y.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"I'm Home"))}}]),t}(n.Component),C={reg:function(e,t,a){return function(e,t,a){return function(n){h.a.post("api/register",{username:e,email:t,password:a}).then(function(e){return n({type:"REG",payload:!1})}).catch(function(e){return n({type:"REG",payload:!0})})}}(e,t,a)}},_=Object(E.b)(function(e){return{userExists:e.auth.userExists,isAuth:e.auth.isAuth}},C)(function(e){var t=Object(n.useState)(null),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(null),s=Object(m.a)(o,2),i=s[0],u=s[1],d=Object(n.useState)(null),E=Object(m.a)(d,2),f=E[0],h=E[1],p=Object(n.useState)(null),b=Object(m.a)(p,2),g=b[0],v=b[1],N=Object(n.useState)(null),w=Object(m.a)(N,2),O=w[0],y=w[1],j=Object(n.useState)(null),A=Object(m.a)(j,2),L=A[0],C=A[1];0==e.userExists?window.location.href="/login":1==e.isAuth&&(window.location.href="/profile");return r.a.createElement("div",{className:"reg-container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Register"),r.a.createElement("div",{className:"card-body"},O?r.a.createElement("div",{className:"alert alert-danger",role:"alert",id:"alert"}," All fielld must be field"):null,L?r.a.createElement("div",{className:"alert alert-danger",role:"alert",id:"alert"}," Passwords doesn't match"):null,e.userExists?r.a.createElement("div",{className:"alert alert-danger",role:"alert",id:"alert"}," User already exists"):null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"username",className:"col-md-4 col-form-label text-md-right"},"Username"),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("input",{type:"text",className:"form-control",name:"username",onChange:function(e){c(e.target.value)}}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"email",className:"col-md-4 col-form-label text-md-right"},"E-Mail Address"),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("input",{type:"text",className:"form-control",name:"email",onChange:function(e){u(e.target.value)}}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"password",className:"col-md-4 col-form-label text-md-right"},"Password"),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("input",{type:"password",id:"password",className:"form-control",name:"password",onChange:function(e){h(e.target.value)}}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"passwordConf",className:"col-md-4 col-form-label text-md-right"},"Password confirmation"),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("input",{type:"password",id:"passwordConf",className:"form-control",onChange:function(e){v(e.target.value)}}))),r.a.createElement("div",{className:"col-md-6 offset-md-4"},r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(){l&&i&&f&&g?(y(!1),f==g?e.reg(l,i,f):C(!0)):y(!0)}},"Register")))))))}),x=(a(68),{lg:function(e,t){return function(e,t){return function(a){h.a.post("api/auth",{username:e,password:t}).then(function(e){return a({type:"LOGIN",payload:{isAuth:!0,badLogin:!1}})}).catch(function(e){return a({type:"LOGIN",payload:{isAuth:!1,badLogin:!0}})})}}(e,t)},checkAuth:function(){return p()}}),S=Object(E.b)(function(e){return{isAuth:e.auth.isAuth,badLogin:e.auth.badLogin}},x)(function(e){var t=Object(n.useState)(null),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(null),s=Object(m.a)(o,2),i=s[0],u=s[1],E=Object(n.useState)(null),f=Object(m.a)(E,2),h=f[0],p=f[1];1==e.isAuth&&(window.location.href="/profile");return r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"image"}),e.badLogin||h?r.a.createElement("div",{className:"errMsg"},"Incorrect username or password"):null),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",null,"Login")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Email address"),r.a.createElement("input",{type:"text",className:"form-control",name:"username",onChange:function(e){c(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",onChange:function(e){u(e.target.value),console.log(e.target.value)}})),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){l&&i?e.lg(l,i):p(!0)}},"Login"),r.a.createElement("div",{className:"reg-link"},"New Here?",r.a.createElement(d.a,{to:"/register"},"Register"))))))),r.a.createElement("div",{className:"footer"}))}),k={checkAuth:function(){return p()}},H=Object(E.b)(function(e){return{username:e.auth.username,isAuth:e.auth.isAuth}},k)(function(e){return 0==e.isAuth&&(window.location.href="/login"),r.a.createElement("div",null,e.isAuth?r.a.createElement("div",null,r.a.createElement("h3",null,"Hi"),e.username):null)}),R=function(e){return r.a.createElement(o.a,null,r.a.createElement("div",{className:"app"},r.a.createElement("div",null,r.a.createElement(N,null)),r.a.createElement("div",null,r.a.createElement(s.a,null,r.a.createElement(i.a,{exact:!0,path:"/",component:L}),r.a.createElement(i.a,{path:"/login",component:S}),r.a.createElement(i.a,{path:"/register",component:_}),r.a.createElement(i.a,{path:"/profile",component:H}),r.a.createElement(u.a,{from:"*",to:"/"})))))},T=a(8),U=a(32),G=a(11),I={isAuth:null,username:null,email:null,password:null,userExists:null,badLogin:null},F=Object(T.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(G.a)({},e,{isAuth:t.payload.isAuth,badLogin:t.payload.badLogin});case"REG":return Object(G.a)({},e,{userExists:t.payload});case"CHECK_AUTH":return Object(G.a)({},e,{username:t.payload.username,isAuth:t.payload.isAuth});case"LOG_OUT":return Object(G.a)({},e,{isAuth:t.payload});default:return e}}}),M=[U.a],P=Object(T.e)(F,{},Object(T.d)(T.a.apply(void 0,M),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(E.a,{store:P},r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.3490ae65.chunk.js.map